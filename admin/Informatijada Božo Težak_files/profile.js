app.controller("ProfileController",function( $rootScope , $scope, api , ClientService , Menu ){	Menu.set("ProfileController");		var _api = api("/api").use("User");		var cs = ClientService;		$scope.cs = cs;		$scope.sloagans = ClientService.sloagans;		$scope.profile = cs.getProfile();			$scope.$watch('profile',function(){		$scope.profile.saved = false;	});		$scope.save = function( phase )	{		_api.callPost("saveProfile", $scope.profile ).ready(function(r){									ClientService.advance( phase );						$scope.profile.saved = true;					});		}		$scope.ready = function()	{		ClientService.setLanguage();				ClientService.advance('READY');				console.log("ready");	}				$scope.uploaded_image = null; // {id: 10, url: "2014/06/2014060410431200034068.jpg"};		$rootScope.$on('uploadComplete',function(o,d){		var r = d.response.result;		console.log("Profile picture uploaded",r[0].url);				$scope.uploaded_image = r[0];				cs.setProfileImage( $scope.uploaded_image );					});});